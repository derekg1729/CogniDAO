{
  "type": "Task",
  "status": "todo",
  "project": "../project-CogniMemorySystem-POC.json",
  "id": "3.3",
  "title": "Add CreateMemoryBlock tool to agent",
  "phase": "⚙️ Agent + Tool Wiring",
  "goal": "Enable the agent to persist new information or thoughts into the memory system.",
  "schema_references": [
    "project.schemas.memory_block_pydantic",
    "project.schemas.dolt_sql"
  ],
  "action_items": [
    "[ ] Define a function `create_memory_block(text: str, tags: List[str], ...) -> str` that:",
    "[ ]   - Creates a `MemoryBlock` object (using Pydantic model) with a new unique ID.",
    "[ ]   - Converts it to the Dolt row format (Task 1.3, using Dolt schema).",
    "[ ]   - Inserts the new row into the Dolt `memory_blocks` table (using Dolt schema).",
    "[ ]   - Potentially triggers re-indexing (Task 5.2) or handles it separately.",
    "[ ] Wrap this function into a LangChain `Tool` named `CreateMemoryBlock`.",
    "[ ] Define the tool's description and input schema.",
    "[ ] Register this tool with the agent.",
    "[ ] Update the agent prompt to encourage its use for saving novel thoughts or summaries."
  ],
  "test_criteria": [
    "Give the agent a prompt that should cause it to generate and save a new thought (e.g., 'Summarize our conversation and save it as a memory block').",
    "Verify the agent calls the `CreateMemoryBlock` tool.",
    "Verify a new row corresponding to the thought appears in the Dolt `memory_blocks` table (`dolt diff`), matching the Dolt schema."
  ],
  "current_status": "Not started."
} 